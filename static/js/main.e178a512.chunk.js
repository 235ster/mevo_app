(this.webpackJsonpmevo_app=this.webpackJsonpmevo_app||[]).push([[0],{205:function(t,n,e){},206:function(t,n,e){},227:function(t,n){},229:function(t,n){},239:function(t,n){},241:function(t,n){},266:function(t,n){},268:function(t,n){},269:function(t,n){},274:function(t,n){},276:function(t,n){},295:function(t,n){},307:function(t,n){},310:function(t,n){},315:function(t,n){},317:function(t,n){},340:function(t,n){},443:function(t,n,e){},444:function(t,n,e){},445:function(t,n,e){},446:function(t,n,e){"use strict";e.r(n);var i=e(11),c=e(2),o=e.n(c),u=e(198),a=e.n(u),l=(e(205),e(48)),r=e(62),s=(e(206),e(29)),d=e(113),f=(e(210),e(443),function(t){var n=t.longitude,e=t.latitude;return Object(i.jsx)(s.a,{longitude:n,latitude:e,children:Object(i.jsx)("img",{id:"currentLocation",src:"https://cdn3.iconfinder.com/data/icons/maps-and-navigation-7/65/68-512.png",alt:"My current location"})})}),j=(e(444),function(t){var n=t.longitude,e=t.latitude,c=t.eachVehicle,o=t.vehicleOnButtonClick;return Object(i.jsx)(s.a,{longitude:n,latitude:e,children:Object(i.jsx)("button",{className:"btn-marker",onClick:function(t){t.preventDefault(),o(c)},children:Object(i.jsx)("img",{src:"https://assets.mevo.co.nz/vehicles/pin-vehicle-available.png",alt:"Vehicle marker"})})})}),b=(e(445),function(t){var n=t.latitude,e=t.longitude,c=t.onVehiclePopupClose,o=t.location;return Object(i.jsx)(s.c,{latitude:n,longitude:e,onClose:function(t){c()},children:Object(i.jsx)("div",{children:Object(i.jsx)("h4",{children:o})})})});var h=function(){var t=Object(c.useState)([]),n=Object(r.a)(t,2),e=n[0],o=n[1],u=Object(c.useState)(null),a=Object(r.a)(u,2),h=a[0],g=a[1],p=Object(c.useState)(null),m=Object(r.a)(p,2),O=m[0],v=m[1],x=-41.29391,k=174.763401,C=function(t){g(t),v(null),V(t)},N=Object(c.useState)({width:"100vw",height:"100vh",longitude:k,latitude:x,zoom:13}),w=Object(r.a)(N,2),S=w[0],J=w[1],V=function(t){var n=t.longitude,e=t.latitude;d.a.init("AIzaSyDfnwEG2dD0XJQJoY-_Pq7d2DaRJtj5LnQ"),d.a.from(e,n).then((function(t){var n=t.results[0].formatted_address;v(n)})).catch((function(t){return console.warn(t)}))};Object(c.useEffect)((function(){fetch("https://api.mevo.co.nz/public/vehicles/all").then((function(t){return t.json()})).then((function(t){return o(t)}))}),[]);var z=e.map((function(t){return t.position}));return z.length?Object(i.jsx)("div",{className:"App",onClick:function(t){!function(t){"img"!==t.target.localName&&(g(null),v(null))}(t)},children:Object(i.jsxs)(s.d,Object(l.a)(Object(l.a)({},S),{},{mapboxApiAccessToken:"pk.eyJ1IjoiMjM1c3RlciIsImEiOiJja2tpNGVkdHgwbXVqMzFvZGthNzFlNzRmIn0.87buL0bck5pMP-WJbWGSeQ",onViewportChange:function(t){J(t)},mapStyle:"mapbox://styles/mapbox/basic-v9",children:[Object(i.jsx)(f,{longitude:k,latitude:x}),z.map((function(t){return Object(i.jsx)(j,{longitude:Number(t.longitude),latitude:Number(t.latitude),eachVehicle:t,vehicleOnButtonClick:C},Number(t.longitude))})),h?Object(i.jsx)(b,{location:O,latitude:Number(h.latitude),longitude:Number(h.longitude),onVehiclePopupClose:function(){g(null),v(null)}}):null,Object(i.jsx)(s.b,{})]}))}):Object(i.jsx)("div",{id:"pageLoading",children:Object(i.jsx)("img",{id:"imgLoading",src:"https://media.tenor.com/images/e9666fa015f403a882f069b9234995cc/tenor.gif",width:"300",height:"300"})})},g=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,447)).then((function(n){var e=n.getCLS,i=n.getFID,c=n.getFCP,o=n.getLCP,u=n.getTTFB;e(t),i(t),c(t),o(t),u(t)}))};a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(h,{})}),document.getElementById("root")),g()}},[[446,1,2]]]);
//# sourceMappingURL=main.e178a512.chunk.js.map